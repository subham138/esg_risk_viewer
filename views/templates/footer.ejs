<div class="modal fade" id="exampleModalCenter" tabindex="-1" role="dialog" aria-labelledby="exampleModalCenter"
  aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Subscription Alert</h5>
        <button class="btn-close" type="button" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        <p id="subMsg"></p>
      </div>
      <div class="modal-footer">
        <!-- <button class="btn btn-secondary" type="button" data-bs-dismiss="modal">Close</button> -->
        <a href="mailto:info@esgriskviewer.com" class="btn btn-pill btn-custom">Contact Us</a>
      </div>
    </div>
  </div>
</div>

<div class="offcanvas offcanvas-end" id="demo">
  <div class="offcanvas-header">
    <h1 class="offcanvas-title">Heading</h1>
    <button type="button" class="btn-close" data-bs-dismiss="offcanvas"></button>
  </div>
  <div class="offcanvas-body">
    <div class="row">
      <div class="col-md-12">
        <div class="w-100 pt-3">
          <div class="scroller scroller-left float-start mt-2"><i class="fa fa-chevron-left"></i></div>
          <div class="scroller scroller-right float-end mt-2"><i class="fa fa-chevron-right"></i></div>
          <div class="wrapper">
            <nav class="nav nav-tabs list mt-2" id="myTab" role="tablist">
              <a class="nav-item nav-link active" data-toggle="tab" href="#tab1" role="tab" aria-controls="public" aria-expanded="true">Data Point</a>
            </nav>
          </div>
          <div class="tab-content p-3" id="myTabContent">
            <div role="tabpanel" class="tab-pane fade active show mt-2" id="tab1" aria-labelledby="public-tab" aria-expanded="true">
              <img height="20%" width="20%" src="/uploads/flag_icon/GRI Logo.png" alt="GRI Logo">
              <div class="dt-pnt">
                <div class="dt-pnt-id">
                  <p>204-1 a.</p>
                </div>
                <div class="dt-pnt-id">
                  <p>204-1 b.</p>
                </div>
                <div class="dt-pnt-id">
                  <p>204-1 c.</p>
                </div>
                <div class="dt-pnt-id">
                  <p>204-1 d.</p>
                </div>
                <div class="dt-pnt-id">
                  <p>204-1 e.</p>
                </div>
                <div class="dt-pnt-id">
                  <p>204-1 f.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%# if(videoPopUp){ %>
  <!-- <div class="modal fade bd-example-modal-lg" id="videoPopupModal" tabindex="-1" role="dialog" aria-labelledby="videoPopupModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">Tutorial Video</h5>
        <button class="btn-close" type="button" onclick="closeVideoModal()"></button>
      </div>
      <div class="modal-body">
        <video id="totVideo" controls width="100%" autoplay loop muted>
          <source src="videos/ESG_Risk_Viewer_Video_Presentation_Final.mp4" type="video/mp4">
        </video>
      </div>
      <div class="modal-footer">
      </div>
    </div>
  </div>
</div> -->
  <%# } %>
    </div>
    <!-- footer start-->
    <footer class="footer">
      <div class="container-fluid">
        <div class="row">
          <div class="col-md-12 footer-copyright">
            <p class="mb-0">2024 Â© ESG Risk Viewer All rights reserved. Platform version: 2024.01</p>
          </div>
          <!-- <div class="col-md-6">
          <p class="pull-right mb-0">Hand crafted & made with <i class="fa fa-heart font-secondary"></i></p>
        </div> -->
        </div>
      </div>
    </footer>
    </div>
    </div>
    <!-- feather icon js-->
    <script src="/js/icons/feather-icon/feather.min.js"></script>
    <script src="/js/icons/feather-icon/feather-icon.js"></script>
    <!-- Sidebar jquery-->
    <script src="/js/sidebar-menu.js"></script>
    <script src="/js/config.js"></script>
    <!-- Bootstrap js-->
    <script src="/js/bootstrap/popper.min.js"></script>
    <!-- <script src="/js/bootstrap/bootstrap.min.js"></script> -->
    <!-- Plugins JS start-->
    <script src="/js/chart/chartist/chartist.js"></script>
    <script src="/js/chart/chartist/chartist-plugin-tooltip.js"></script>
    <script src="/js/chart/knob/knob.min.js"></script>
    <script src="/js/chart/knob/knob-chart.js"></script>
    <script src="/js/chart/apex-chart/apex-chart.js"></script>
    <script src="/js/chart/apex-chart/stock-prices.js"></script>
    <script src="/js/prism/prism.min.js"></script>
    <script src="/js/clipboard/clipboard.min.js"></script>
    <script src="/js/counter/jquery.waypoints.min.js"></script>
    <script src="/js/counter/jquery.counterup.min.js"></script>
    <script src="/js/counter/counter-custom.js"></script>
    <script src="/js/custom-card/custom-card.js"></script>
    <script src="/js/notify/bootstrap-notify.min.js"></script>
    <script src="/js/vector-map/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-world-mill-en.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-us-aea-en.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-uk-mill-en.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-au-mill.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-chicago-mill-en.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-in-mill.js"></script>
    <script src="/js/vector-map/map/jquery-jvectormap-asia-mill.js"></script>
    <script src="/js/dashboard/default.js"></script>
    <script src="/js/notify/index.js"></script>
    <script src="/js/datepicker/date-picker/datepicker.js"></script>
    <script src="/js/datepicker/date-picker/datepicker.en.js"></script>
    <script src="/js/datepicker/date-picker/datepicker.custom.js"></script>

    <script src="/js/datatable/datatables/jquery.dataTables.min.js"></script>
    <script src="/js/datatable/datatables/datatable.custom.js"></script>

    <script src="/js/select2/select2.full.min.js"></script>
    <script src="/js/select2/select2-custom.js"></script>

    <!-- TOUR GUIDE -->
    <!-- <script src="/js/tour/intro.js"></script>
<script src="/js/tour/intro-init.js"></script>  -->
    <!-- END -->

    <script src="/js/general-widget.js"></script>

    <!-- <script src="/js/jsPdf/jspdf.umd.min.js"></script> -->
    <script src="/js/html2Canvas/html2canvas.min.js"></script>

    <script src="js/sweet-alert/sweetalert.min.js"></script>
    <!-- Plugins JS Ends-->
    <!-- Theme js-->
    <script src="/js/script.js"></script>
    <!-- <script src="js/theme-customizer/customizer.js"></script> -->
    <!-- <script src="js/theme-customizer/customizer.js"></script> -->
    <!-- login js-->
    <!-- Plugin used-->
    <script>
      function closeVideoModal() {
        $("video")[0].pause()
        $('#videoPopupModal').modal('hide');
      }
    </script>
    <script>
      function routToNextPage(route, params = null, encode = false) {
        // console.log(`${route}${params ? `?data=${encode ? window.btoa(params) : params}` : ''}`);
        window.location.href = `${route}${params ? `?data=${encode ? window.btoa(params) : params}` : ''}`
      }
    </script>
    <script>
      function checkDel() {
        if (confirm('Do you want to delete permanently?')) {
          return true;
        } else {
          return false;
        }
      }
    </script>
    <script>
      $(".readmore-link").click(function (e) {
        // record if our text is expanded
        var isExpanded = $(e.target).hasClass("expand");

        //close all open paragraphs
        $(".readmore.expand").removeClass("expand");
        $(".readmore-link.expand").removeClass("expand");

        // if target wasn't expand, then expand it
        if (!isExpanded) {
          $(e.target).parent(".readmore").addClass("expand");
          $(e.target).addClass("expand");
        }
      });
    </script>

    <script>
      function triggerTour(element, text) {
        console.log(typeof (text), 'textType');
        if (typeof (text) == 'string') {
          introJs().setOptions({
            "dontShowAgain": true,
            steps: [
              {
                element: element,
                intro: text
              }]
          }).start();
        } else if (Array.isArray(text)) {
          let i = 0, steps = [];
          for (let dt of text) {
            steps.push({
              element: element[i],
              intro: dt
            })
            i++
          }
          introJs().setOptions({
            "dontShowAgain": true,
            steps: steps
          }).start();
        }
      }
    </script>

    <script>
      function initiate_sweet_alert(title, message, type) {
        // console.log('here alert inititated');
        // swal(title, message, type != 'danger' ? type : 'error');
        swal(message, '', type != 'danger' ? type : 'error');
      }
    </script>

    <script>
      var hidWidth;
var scrollBarWidths = 40;

var widthOfList = function(){
  var itemsWidth = 0;
  $('.list a').each(function(){
    var itemWidth = $(this).outerWidth();
    itemsWidth+=itemWidth;
  });
  return itemsWidth;
};

var widthOfHidden = function(){
    var ww = 0 - $('.wrapper').outerWidth();
    var hw = (($('.wrapper').outerWidth())-widthOfList()-getLeftPosi())-scrollBarWidths;
    var rp = $(document).width() - ($('.nav-item.nav-link').last().offset().left + $('.nav-item.nav-link').last().outerWidth());
    
    if (ww>hw) {
        //return ww;
        return (rp>ww?rp:ww);
    }
    else {
        //return hw;
        return (rp>hw?rp:hw);
    }
};

var getLeftPosi = function(){
    
    var ww = 0 - $('.wrapper').outerWidth();
    var lp = $('.list').position().left;
    
    if (ww>lp) {
        return ww;
    }
    else {
        return lp;
    }
};

var reAdjust = function(){
  
  // check right pos of last nav item
  var rp = $(document).width() - ($('.nav-item.nav-link').last().offset().left + $('.nav-item.nav-link').last().outerWidth());
  if (($('.wrapper').outerWidth()) < widthOfList() && (rp<0)) {
    $('.scroller-right').show().css('display', 'flex');
  }
  else {
    $('.scroller-right').hide();
  }
  
  if (getLeftPosi()<0) {
    $('.scroller-left').show().css('display', 'flex');
  }
  else {
    $('.item').animate({left:"-="+getLeftPosi()+"px"},'slow');
  	$('.scroller-left').hide();
  }
}

reAdjust();

$(window).on('resize',function(e){  
  	reAdjust();
});

$('.scroller-right').click(function() {
  
  $('.scroller-left').fadeIn('slow');
  $('.scroller-right').fadeOut('slow');
  
  $('.list').animate({left:"+="+widthOfHidden()+"px"},'slow',function(){
    reAdjust();
  });
});

$('.scroller-left').click(function() {
  
	$('.scroller-right').fadeIn('slow');
	$('.scroller-left').fadeOut('slow');
  
  	$('.list').animate({left:"-="+getLeftPosi()+"px"},'slow',function(){
  	    reAdjust();
  	});
});  
    </script>

    </body>

    </html>